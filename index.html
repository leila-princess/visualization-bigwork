<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <style>
    .content {
      max-width: 740px;
      margin-left: auto;
      margin-right: auto;
    }
    .wrapper {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-gap: 1em;
    }
    @media screen and (max-width: 400px) {
      .wrapper {
        grid-template-columns: 1fr;
      }
    }
  </style>

</head>
<header class="post-header">
  <h1 class="post-title p-name" itemprop="name headline">霍夫变换</h1>
</header>
<body>
<div align="center">
   <p>霍夫变换是一种特征提取，被广泛应用在图像分析、计算机视觉等方面。霍夫变换主要是用来辨别找出物件中的特征，例如线条或图形。他的算法流程大致如下：给定一个物件以及要辨别的形状的种类，算法会在参数空间中执行投票来决定物体的形状，这由累加空间里的局部最大值来决定。</p>

 <p>变换的主要操作是，对于(x, y)空间上的某个点(x1, y1)有y1 = mx1 + c，则c = -x1m + y1，这是霍夫空间上的一条直线。对于(x, y)空间上某条直线的方程为y = m1x + c1，则c1 = -xm1 + y，这也就是霍夫空间上的一个点(m1, c1)。也就是说将(x, y)空间的点和直线变换为 (m, c)空间的直线和点。而“投票”则是指统计霍夫空间中直线的交点次数，选择由尽可能多直线汇成的点，得到原空间中的图形。</p>

 <p>我们可视化采用的是极坐标下的霍夫空间，(x, y)空间上的直线对应在(r, Θ)空间仍然是点，但是(x, y)空间上的点对应在(r, Θ)空间是正弦曲线。同样采用“投票”机制，(r, Θ)空间下，两条正弦曲线相交一个点，这个交点就是对应(x, y)空间上穿过两条正弦曲线对应的点的直线。对于一幅像素图，对每个点做出霍夫变换后的正弦曲线，通过统计曲线交点就可以在霍夫空间中找到对应原空间直线的点。</p>
  <p>我认为 (classical) <a href="https://en.wikipedia.org/wiki/Hough_transform">霍夫变换</a> 是一个很好的技术, 但我发现从公式和静态图像中很难理解。
这就是为什么我创建了一个可探索的解释:</p>

  <p><em>将其中一个绘图悬停在另一个绘图中以查看相应的变换。
单击左侧绘图以插入点。拖动点以更改其位置。单击一个点将其删除。
对于触摸屏用户：使用两个手指滚动。.</em></p>
</div>

<div class="content">


  <div class="wrapper">
    <div id="svg1"></div>
    <div id="svg2"></div>
  </div>

  <h3 id="real-world-data">Real-World Data</h3>


  <div align="center">
    <img src="hough-scaled.jpg" alt="Hough input image" />
  </div>

  <p><br /></p>

  <p>右图显示了每个边缘像素的霍夫变换。黑暗区域建议由边缘像素形成的线。将它们悬停在图像上以查看它们所代表的线条。</p>

  <p>下面的左图显示了从简单图像中提取的边缘像素.</p>



  <p><br /></p>


  <div class="wrapper">
    <div id="svg3"></div>
    <div id="svg4"></div>
  </div>
</div>
<script src="hough.js"></script>
<script>
  insert_hough_plots("svg1", "svg2")
  insert_hough_plots_2("svg3", "svg4")
</script>
</body>
</html>
